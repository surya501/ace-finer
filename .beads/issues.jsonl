{"id":"ACE-1ft","title":"Create playbook/schema.py with Rule dataclass","description":"Implement Rule dataclass with: rule_id, content, trigger_context, target_entities, error_type, success_count, failure_count, created_at, last_used. Add create() factory, to_metadata(), from_query_result(), utility_score() methods.","acceptance_criteria":"- Rule.create() generates UUID\n- to_metadata() serializes for ChromaDB\n- from_query_result() deserializes correctly\n- utility_score() uses Laplace smoothing","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:24.043186929-08:00","updated_at":"2026-01-08T17:07:24.043186929-08:00","labels":["core","playbook"]}
{"id":"ACE-1g3","title":"Create data/pipeline.py with Sample dataclass and streaming","description":"Implement: Sample dataclass (id, tokens, ner_labels, sentence), stream_finer() generator that converts ner_tags to string labels, batch_samples() utility for batching.","acceptance_criteria":"- Sample has correct field names matching FiNER-139\n- stream_finer yields Sample objects with converted labels\n- batch_samples groups samples correctly","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:23.779943698-08:00","updated_at":"2026-01-08T17:07:23.779943698-08:00","labels":["core","data"],"dependencies":[{"issue_id":"ACE-1g3","depends_on_id":"ACE-z11","type":"blocks","created_at":"2026-01-08T17:07:23.796066444-08:00","created_by":"daemon"}]}
{"id":"ACE-4en","title":"Create tests/test_labels.py","description":"Write tests for extract_entities and classify_error before implementation. Test single entity, multiple entities, omission, hallucination, boundary, classification errors.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:08.927172597-08:00","updated_at":"2026-01-08T17:07:08.927172597-08:00","labels":["data","test"]}
{"id":"ACE-69x","title":"Create tests/test_guardrails.py","description":"Write tests for cost guard, rule ratio guard, parse failure guard, duplicate detection, and bounded deque behavior.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:26.152151046-08:00","updated_at":"2026-01-08T17:08:26.152151046-08:00","labels":["guardrails","test"]}
{"id":"ACE-6yd","title":"Create main.py entry point with batch loop","description":"Implement main() with: argparse (max-samples, batch-size, max-concurrent, curation-freq, checkpoint-freq, max-cost), component initialization with cost callback wiring, batch loop with periodic curation/checkpoints, guard error handling.","acceptance_criteria":"- All CLI args wired correctly\n- Cost callback connects LLMClient to Guards\n- Periodic curation and checkpointing\n- Graceful handling of GuardError and KeyboardInterrupt","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:43.512354037-08:00","updated_at":"2026-01-08T17:10:15.008317021-08:00","labels":["core","main"],"deleted_at":"2026-01-08T17:10:15.008317021-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"ACE-6zk","title":"Create data/__init__.py and agents/__init__.py and playbook/__init__.py","description":"Create empty __init__.py files for all packages to make them importable.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:43.807558531-08:00","updated_at":"2026-01-08T17:16:52.075848434-08:00","closed_at":"2026-01-08T17:16:52.075848434-08:00","close_reason":"Created __init__.py for data/, playbook/, agents/, tests/","labels":["setup"]}
{"id":"ACE-7rc","title":"Create metrics.py with MetricsLogger","description":"Implement MetricsLogger with: window-based history (deque), record(state), summary() for logging, save(path) for JSON export. Track: total_correct, total_samples, error_counts by type, parse_failures, rules_created.","acceptance_criteria":"- Window accuracy calculated correctly\n- Error types tracked separately\n- JSON export includes all metrics","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:26.271923877-08:00","updated_at":"2026-01-08T17:08:26.271923877-08:00","labels":["core","metrics"],"dependencies":[{"issue_id":"ACE-7rc","depends_on_id":"ACE-tw5","type":"blocks","created_at":"2026-01-08T17:08:26.288336474-08:00","created_by":"daemon"}]}
{"id":"ACE-8ke","title":"Create tests/conftest.py with pytest fixtures","description":"Create pytest fixtures for: sample data, mock LLM responses, temporary playbook store, test rules. Configure pytest-asyncio.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:58.240419504-08:00","updated_at":"2026-01-08T17:08:58.240419504-08:00","labels":["setup","test"]}
{"id":"ACE-8qk","title":"Create agents/reflector.py with Reflector agent","description":"Implement Reflector with: generate_rule(state) -\u003e Rule|None that analyzes errors and creates rules, validate(rule, state, generator) that tests if rule fixes the error.","acceptance_criteria":"- Generates rule with trigger_context and target_entities\n- Validation re-runs generator with new rule\n- Returns None if LLM fails to generate valid rule","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:11.04177186-08:00","updated_at":"2026-01-08T17:08:11.04177186-08:00","labels":["agents","core"],"dependencies":[{"issue_id":"ACE-8qk","depends_on_id":"ACE-yzv","type":"blocks","created_at":"2026-01-08T17:08:11.043651561-08:00","created_by":"daemon"}]}
{"id":"ACE-9ml","title":"Create guardrails.py with Guards circuit breakers","description":"Implement Guards with: max_cost, max_rule_ratio, max_parse_failures, duplicate_threshold, bounded recent_embeddings deque. Methods: record_sample(), record_rule_created(), record_parse_failure/success(), record_cost(), check_duplicate(), check_all().","acceptance_criteria":"- Cost guard triggers at threshold\n- Rule ratio guard triggers after warmup\n- Duplicate detection uses cosine similarity\n- recent_embeddings bounded by deque maxlen","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:26.030225841-08:00","updated_at":"2026-01-08T17:08:26.030225841-08:00","labels":["core","guardrails"]}
{"id":"ACE-a6d","title":"Create agents/generator.py with Generator agent","description":"Implement Generator with: predict(tokens, rules) -\u003e (labels, parse_failed), _build_prompt() with XML-tagged tokens, _parse() for JSON response extraction.","acceptance_criteria":"- XML tokens use format \u003ct id=\"N\"\u003etoken\u003c/t\u003e\n- JSON parsing extracts non-O labels\n- Returns parse_failed=True on malformed response","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:10.896729026-08:00","updated_at":"2026-01-08T17:08:10.896729026-08:00","labels":["agents","core"],"dependencies":[{"issue_id":"ACE-a6d","depends_on_id":"ACE-yzv","type":"blocks","created_at":"2026-01-08T17:08:10.911320727-08:00","created_by":"daemon"}]}
{"id":"ACE-ape","title":"Create playbook/store.py with PlaybookStore ChromaDB wrapper","description":"Implement PlaybookStore with: __init__ (ChromaDB + SentenceTransformer), add_rule(), retrieve(query, top_k), update_stats(rule_id, success), get_embedding(), get_all_rules(), delete_rule(), count(), checkpoint().","acceptance_criteria":"- Semantic search returns relevant rules\n- Stats update correctly (success/failure counts)\n- Checkpoint copies database to checkpoint directory\n- get_embedding returns vector for duplicate detection","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:39.592493345-08:00","updated_at":"2026-01-08T17:07:39.592493345-08:00","labels":["core","playbook"],"dependencies":[{"issue_id":"ACE-ape","depends_on_id":"ACE-1ft","type":"blocks","created_at":"2026-01-08T17:07:39.606651036-08:00","created_by":"daemon"}]}
{"id":"ACE-bsf","title":"Create tests/test_generator.py","description":"Write tests for Generator._parse() with valid JSON, malformed JSON, and edge cases (empty dict, out-of-bounds indices).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:55.635952682-08:00","updated_at":"2026-01-08T17:07:55.635952682-08:00","labels":["agents","test"]}
{"id":"ACE-cd7","title":"Create main.py entry point with batch loop","description":"Implement main() with: argparse (max-samples, batch-size, max-concurrent, curation-freq, checkpoint-freq, max-cost), component initialization with cost callback wiring, batch loop with periodic curation/checkpoints, guard error handling.","acceptance_criteria":"- All CLI args wired correctly\n- Cost callback connects LLMClient to Guards\n- Periodic curation and checkpointing\n- Graceful handling of GuardError and KeyboardInterrupt","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:58.078593941-08:00","updated_at":"2026-01-08T17:08:58.078593941-08:00","labels":["core","main"],"dependencies":[{"issue_id":"ACE-cd7","depends_on_id":"ACE-wkg","type":"blocks","created_at":"2026-01-08T17:08:58.092844433-08:00","created_by":"daemon"},{"issue_id":"ACE-cd7","depends_on_id":"ACE-wkh","type":"blocks","created_at":"2026-01-08T17:08:58.097750665-08:00","created_by":"daemon"},{"issue_id":"ACE-cd7","depends_on_id":"ACE-7rc","type":"blocks","created_at":"2026-01-08T17:08:58.099237063-08:00","created_by":"daemon"}]}
{"id":"ACE-dgh","title":"Create tests/test_pipeline.py","description":"Write tests for Sample dataclass, stream_finer (with limit), and batch_samples utility.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:23.919455011-08:00","updated_at":"2026-01-08T17:07:23.919455011-08:00","labels":["data","test"]}
{"id":"ACE-fln","title":"Create agents/generator.py with Generator agent","description":"Implement Generator with: predict(tokens, rules) -\u003e (labels, parse_failed), _build_prompt() with XML-tagged tokens, _parse() for JSON response extraction.","acceptance_criteria":"- XML tokens use format \u003ct id=\"N\"\u003etoken\u003c/t\u003e\n- JSON parsing extracts non-O labels\n- Returns parse_failed=True on malformed response","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:55.302388324-08:00","updated_at":"2026-01-08T17:10:14.996730442-08:00","labels":["agents","core"],"deleted_at":"2026-01-08T17:10:14.996730442-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"ACE-i9v","title":"Run small validation (100 samples)","description":"Execute: uv run python main.py --max-samples 100 --batch-size 10. Verify metrics output, checkpoint created, no guard violations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T17:08:58.372601669-08:00","updated_at":"2026-01-08T17:08:58.372601669-08:00","labels":["validation"]}
{"id":"ACE-iqw","title":"Create pyproject.toml with dependencies","description":"Set up project with uv, define dependencies: datasets, chromadb, sentence-transformers, openai, numpy, tqdm, python-dotenv. Add dev dependencies for pytest.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:08.677143025-08:00","updated_at":"2026-01-08T17:16:51.957085805-08:00","closed_at":"2026-01-08T17:16:51.957085805-08:00","close_reason":"Created pyproject.toml with all dependencies, uv sync successful","labels":["foundation","setup"]}
{"id":"ACE-nzr","title":"Create tests/test_playbook.py for Rule and PlaybookStore","description":"Write tests for Rule serialization/deserialization, utility_score calculation, PlaybookStore add/retrieve/update_stats/delete operations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:39.473298321-08:00","updated_at":"2026-01-08T17:07:39.473298321-08:00","labels":["playbook","test"]}
{"id":"ACE-tw5","title":"Create state.py with State dataclass","description":"Implement State dataclass with fields: sample_id, sentence, tokens, ground_truth, retrieved_rules, predictions, is_correct, error_type, new_rule, parse_failed.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:39.724029341-08:00","updated_at":"2026-01-08T17:07:39.724029341-08:00","labels":["core"],"dependencies":[{"issue_id":"ACE-tw5","depends_on_id":"ACE-1ft","type":"blocks","created_at":"2026-01-08T17:07:39.725379265-08:00","created_by":"daemon"}]}
{"id":"ACE-wkg","title":"Create runner.py with run_sample and run_batch","description":"Implement run_sample() that: retrieves rules, generates predictions, evaluates, updates rule stats, reflects on errors, validates new rules. Implement run_batch() with semaphore-limited concurrency.","acceptance_criteria":"- Full pipeline executes for each sample\n- Rule stats updated after prediction\n- New rules validated before adding\n- Duplicate check via guards\n- Batch concurrency limited by semaphore","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:43.352374935-08:00","updated_at":"2026-01-08T17:08:43.352374935-08:00","labels":["core","runner"],"dependencies":[{"issue_id":"ACE-wkg","depends_on_id":"ACE-tw5","type":"blocks","created_at":"2026-01-08T17:08:43.366946024-08:00","created_by":"daemon"},{"issue_id":"ACE-wkg","depends_on_id":"ACE-ape","type":"blocks","created_at":"2026-01-08T17:08:43.373511161-08:00","created_by":"daemon"},{"issue_id":"ACE-wkg","depends_on_id":"ACE-a6d","type":"blocks","created_at":"2026-01-08T17:08:43.376728758-08:00","created_by":"daemon"},{"issue_id":"ACE-wkg","depends_on_id":"ACE-8qk","type":"blocks","created_at":"2026-01-08T17:08:43.379957472-08:00","created_by":"daemon"},{"issue_id":"ACE-wkg","depends_on_id":"ACE-9ml","type":"blocks","created_at":"2026-01-08T17:08:43.383189433-08:00","created_by":"daemon"}]}
{"id":"ACE-wkh","title":"Create agents/curator.py with Curator agent","description":"Implement Curator with: run() that analyzes all rules, identifies duplicates/low-utility rules, and prunes them. Returns report of actions taken.","acceptance_criteria":"- Prunes rules with low utility_score\n- Detects semantic duplicates via embeddings\n- Returns summary of pruned/merged rules","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:08:11.165024114-08:00","updated_at":"2026-01-08T17:08:11.165024114-08:00","labels":["agents","core"],"dependencies":[{"issue_id":"ACE-wkh","depends_on_id":"ACE-ape","type":"blocks","created_at":"2026-01-08T17:08:11.166474737-08:00","created_by":"daemon"},{"issue_id":"ACE-wkh","depends_on_id":"ACE-yzv","type":"blocks","created_at":"2026-01-08T17:08:11.16798215-08:00","created_by":"daemon"}]}
{"id":"ACE-yzv","title":"Create agents/llm.py with LLMClient for Groq","description":"Implement LLMClient with: __init__(api_key, model, on_cost callback), complete(messages, retries) with exponential backoff, _calc_cost() for Groq pricing. Uses OpenAI-compatible API at https://api.groq.com/openai/v1.","acceptance_criteria":"- Async completion with retry on rate limit\n- Cost callback invoked after each request\n- Correct Groq pricing calculation","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:55.146317275-08:00","updated_at":"2026-01-08T17:07:55.146317275-08:00","labels":["agents","core"],"dependencies":[{"issue_id":"ACE-yzv","depends_on_id":"ACE-iqw","type":"blocks","created_at":"2026-01-08T17:07:55.16491469-08:00","created_by":"daemon"}]}
{"id":"ACE-z11","title":"Create data/labels.py with IOB2 label utilities","description":"Implement: get_label_names() with LRU cache, id_to_label(), label_to_id(), Entity dataclass, extract_entities() for IOB2 span extraction, classify_error() for boundary/classification/omission/hallucination detection.","acceptance_criteria":"- extract_entities correctly parses B-/I-/O tags into Entity spans\n- classify_error returns correct error type for all 4 categories\n- Unit tests pass","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:07:08.799563438-08:00","updated_at":"2026-01-08T17:07:08.799563438-08:00","labels":["core","data"],"dependencies":[{"issue_id":"ACE-z11","depends_on_id":"ACE-iqw","type":"blocks","created_at":"2026-01-08T17:09:35.584524084-08:00","created_by":"daemon"}]}
